#!/bin/perl
#####################################################################################
%pointCodes = (  # ABC -> 123
 #"XXX" => "XXX",
 "ACU" => "282", # Air Conditioning Unit
 "AEM" => "930", # AG Electric Main
 #"AGE" => "674", # Shoulder Aggregate Edge
 "B62" => "516", # Curb B6-24 Top Back - depreciated
 "B6B" => "509", # Curb B6-12 Top Back - depreciated
 "B6F" => "510", # Curb B6-12 Flowline #deleted v6 # added back v15 - depreciated
 #"B6T" => "508", # Curb B6-12 Top Front #deleted v6
 "BAB" => "615", # Bridge Abutment Cap Top.  The outline of the face,sides,
                  # and top of the abutment.  A 3d line.
 "BAL" => "613", # The outline of the face of the abutment and the face of the
                  # wingwalls.  A 2d line, usually collected prismless.
 "BAR" => "695", # Stop Bar
 "BAS" => "618", # Bridge Approach Slab
 #"BAT" => "615", # Bridge Abutment Top
 "BBA" => "619", # Bridge Deck - AGG - Spots only
 "BBB" => "619", # Bridge Deck - BIT - Spots only
 "BBC" => "619", # Bridge Deck - CONC - Spots only
 "BBG" => "319", # Buffalo Box - Gas
 "BBR" => "619", # Bridge Deck - BRICK - Spots only
 "BBS" => "620", # Bridge Seat.  The bridge seat elevation.  For elevation only.  Usually collected
                  # with the "hook".
 "BBW" => "320", # Buffalo Box - Water
 #"BBX" => "320", # Water Buffalo Box
 "BCB" => "611", # Bridge Curb.  The top back of any curb or median on a bridge.
 "BDB" => "619", # Bridge Deck. The line of the bit bridge deck.  A 3d line.
 "BDC" => "619", # Bridge Deck. The line of the concrete bridge deck.  A 3d line.
 "BDP" => "619", # Bridge Deck Plate
 "BDT" => "619", # Bridge Desk Timber
 #"BDK" => "619", # Bridge Deck
 "BEX" => "623", # Bridge Expansion Joint.  A 3d line.
 "BHR" => "624", # Bridge Handrail
 "BLD" => "601", # v16 start of depreciation
 "BLC" => "626", # The bottom of the concrete bridge beams.  Usually taken at
                  # the beginning middle and end oof each span of the bridge beams.
                  # Usually only required on the outside (upstream and downstream) beams.
 "BLS" => "627", # The bottom of the steel bridge beams.  Usually taken at
                  # the beginning middle and end oof each span of the bridge beams.
                  # Usually only required on the outside (upstream and downstream) beams.
 "BLT" => "628", # The bottom of the timber bridge beams.  Usually taken at
                  # the beginning middle and end oof each span of the bridge beams.
                  # Usually only required on the outside (upstream and downstream) beams.
 "BOL" => "419", # Bollard / Post
 "BOR" => "640", # Soil Boring?
 "BPA" => "633", # Bridge Parapet / Handrail.  A 2d line.
 "BPC" => "629", # The outline of the face of the pier cap. A 2d line usually
                  # collected "prismless".
 "BPR" => "615", # Pier Cap.  The outline of the face, sides and top of the pier cap.  A 3d line.
 "BPT" => "631", # The pier cap elevation,  For elevation only.  Usually collected
                  # with the "hook".
 #"BRC" => "611", # Bridge Curb
 "BRK" => "607", # Breakline
 "BRR" => "579", # Barrier Wall
 "BSC" => "641", # Bridge Scupper
 "BSH" => "408",
 "BSL" => "412", # Bush Line/ Hedgerow added v6
 "BSS" => "633", # Bridge Structural Steel
 #"BSW" => "291", # Bridge Sidewalk - depreciated
 "BUC" => "600", # Building - Commercial
 "BUP" => "601", # Building - Public
 "BUR" => "602", # Building - Residential
 "BWC" => "619", # Bridge Deck Sidewalk Concrete
 "BWL" => "612", # Bridge Backwall The outline of the face and sides of the
                  # bridge back wall.  A 3d line.
 #"BWT" => "635", # Bridge Wing Wall Top Elevation
 "BWW" => "635", # The outline of the face and sides of the wingwall.  A 3d line with
                  # points at each elevation change.
 "CBM" => "307", # Catch Basin Grate
 "CKH" => "135",
 "CKV" => "134",
 "CLR" => "450", # RR centerline - depreciated
 "CNA" => "607", # Crown - AGG
 "CNB" => "607", # Crown - BIT/HMA - use stripeing as breakline where possible
 "CNC" => "607", # Crown - CONC - use stripeing as breakline where possible
 "CNR" => "607", # Crown - BRICK
 "CNP" => "683", # Canopy
 "CNT" => "225", # Traffic Signal Cantilever/Mast Arm
 "COL" => "609", # Column
 "CPH" => "103", # Control Point - modified v6
 "CRB" => "501", # Curb Top - Conc - restored to original meaning 
# "CRC" => "501", # Curb Top - Conc - removed after confused period
# "CRN" => "501", # Curb Top - Stone - removed after confused period
 "CRN" => "667", # Crown Line - restored to original meaning
 "CRP" => "411", # Crop Line
 "CRW" => "279", # Crosswalk
 "CUB" => "303",
 "CUE" => "302",
 "CUP" => "300",
 "DAM" => "369",
 "DCA" => "652", # ver12 - Driveway/Commercial Aggregate
 "DCB" => "652", # ver12 - Driveway/Commercial BIT/HMA
 "DCC" => "652", # ver12 - Driveway/Commercial Concrete
 "DCG" => "652", # ver12 - Driveway/Commercial Ground - Field Entrance
 "DCK" => "608", # Deck 
 "DCR" => "652", # ver12 - Driveway/Commercial Brick
 "DFA" => "654", # ver12 - Driveway/Field Aggregate
 "DFB" => "654", # ver12 - Driveway/Field BIT/HMA
 "DFC" => "654", # ver12 - Driveway/Field Concrete
 "DFG" => "654", # ver12 - Driveway/Field Ground - Field Entrance
 "DFR" => "654", # ver12 - Driveway/Field Brick
 "DPA" => "656", # ver12 - Driveway/Private-Residential Aggregate
 "DPB" => "656", # ver12 - Driveway/Private-Residential BIT/HMA
 "DPC" => "656", # ver12 - Driveway/Private-Residential Concrete
 "DPG" => "656", # ver12 - Driveway/Private-Residential Ground - Field Entrance
 "DPR" => "656", # ver12 - Driveway/Private-Residential Brick
 "DRA" => "649", # Driveway - aggregate
 "DRB" => "649", # Driveway - HMA
 "DRC" => "649", # Driveway - Concrete
 "DRG" => "649", # Field Entrance
 "DRR" => "649", # Driveway - Brick
 "DRV" => "649", # Depreciated see DCA Thru DPR
 "DSP" => "304", # Downspout
 "DTH" => "363", # Ditch Flowline
 "DTP" => "359", # Ditch - Paved - Centerline
 "EOA" => "668", # Edge of pavement - aggregate
 "EOB" => "668", # Edge of pavement - bit/hma
 "EOC" => "668", # Edge of pavement - concrete
 "EOL" => "678", # Edge of Lanes - added v6
 "EOR" => "668", # Edge of pavement - Brick
 #"EOP" => "668", # Edge of pavement
 "FES" => "309",
 "FFL" => "650", # Finish Floor/Threshold Elevation
 #"FLO" => "363", # Flowline / Ditch
 "FNC" => "414", # Fence Line
 "FND" => "207", # Found Monument
 "FNG" => "418", # Gate Post
 "FNI" => "414", # Fence Line - Iron
 "FNL" => "414", # Fence Line - Chain Link
 "FNT" => "414", # Fence Line - Wood
 "FNV" => "414", # Fence Line - Vinyl
 "FNW" => "414", # Fence Line - Wire
 "FNX" => "414", # Fence Line - Barbed Wire
 "FOU" => "795", # Foundation
 "GCC" => "600", # Building - Commercial - Concrete
 "GCF" => "600", # Building - Commercial - Wood Frame
 "GCM" => "600", # Building - Commercial - Masonry
 "GCR" => "600", # Building - Commercial - Brick
 "GCS" => "600", # Building - Commercial - Steel
 "GCT" => "600", # Building - Commercial - Timber/Log
 "GND" => "604",
 "GPC" => "601", # Building - Public - Concrete
 "GPF" => "601", # Building - Public - Wood Frame
 "GPM" => "601", # Building - Public - Masonry
 "GPR" => "601", # Building - Public - Brick
 "GPS" => "601", # Building - Public - Steel
 "GPT" => "601", # Building - Public - Timber/Log
 "GRC" => "602", # Building - Residential - Concrete
 "GRF" => "602", # Building - Residential - Wood Frame
 "GRL" => "420", # Guard Rail
 "GRM" => "602", # Building - Residential - Masonry
 "GRR" => "602", # Building - Residential - Brick
 "GRS" => "602", # Building - Residential - Steel
 "GRT" => "602", # Building - Residential - Timber/Log
 "GUB" => "575", # Gutter/Flowline - HMA
 "GUC" => "575", # Gutter/Flowline - CONC
 "GUN" => "575", # Gutter/Flowline - Stone
 "GUP" => "251", # Guy Pole
 "GUT" => "575", # Gutter/Flowline
 "GUY" => "265", # Guy Wire
 "H2O" => "867", # Water Line
 "HHD" => "275", # Traffic Signal Handhole Double - added v6
 "HHE" => "274", # Handhole - Electric
 "HHF" => "274", # Handhole - Fiber Optic
 "HHT" => "274", # Handhole - Telephone
 "HHR" => "274", # Handhole - Traffic Signal Handhole
 "HHV" => "274", # Handhole - Cable TV
 "HWL" => "311",
 "HYD" => "323",
 "INL" => "339", # Inlet
 "JUE" => "285",
 "JUF" => "289", # JULIE Communications Fiber Optic Mark
 "JUG" => "942",
 "JUM" => "962", # JULIE Storm Mark"
 "JUN" => "960", # JULIE Sanitary Mark
 "JUR" => "224",
 "JUS" => "224", # JULIE  Traffic Signal Fiber Optic Mark
 "JUT" => "286",
 "JUV" => "288",
 "JUW" => "689", # JULIE Waterline Mark
 "LNB" => "678", # Lane Line - HMA
 "LNC" => "678", # Lane Line - CONC
 "LND" => "318",
 "LNM" => "694",
 "MBX" => "400",
 "MCS" => "297", # Misc. Concrete Slab
 "MED" => "578", # Median
 "MHE" => "280", # Manhole Electric
 "MHF" => "346", # Manhole Fiber Optic
 "MHG" => "346", # Manhole Gas
 "MHS" => "346", # Manhole Traffic Fiber Optic
 "MHM" => "351", # Manhole Storm
 "MHN" => "337", # Manhole Sanitary
 "MHT" => "280", # Manhole Telephone/Communications
 "MHV" => "280", # Manhole Cable TV
 "MHW" => "346", # Manhole Water
 "MSC" => "699", # Misc - added v6
 "MTE" => "330", # Meter - Electric
 "MTG" => "329", # Meter - Gas
 "MTW" => "331", # Meter Water
 "MWL" => "640", # Monitoring/Inspection Well
 "NPS" => "226", # No passing line
 "PAA" => "297", # Patio Edge - Aggregate/Gravel
 "PAB" => "297", # Patio Edge - HMA
 "PAC" => "297", # Patio Edge - Concrete
 "PAN" => "297", # Patio Edge - Stone
 "PAR" => "297", # Patio Edge - Brick
 "PBB" => "666", # A spot elevation on a bit bridge deck.
 "PBC" => "666", # A spot elevation on a conc bridge deck.
 "PDE" => "282", # Pedestal Electric
 "PDF" => "283", # Pedestal Fiber Optic
 "PDT" => "283",
 "PDV" => "284",
 "PHB" => "298", # Phone Booth
 "PLF" => "691",
 "PLT" => "252",
 "PMA" => "666", # Pavement Spot- Aggregate
 "PMB" => "666", # Pavement Spot- Bituminous
 "PMC" => "666", # Pavement Spot- Concrete
 "PMR" => "666", # Pavement Spot- Brick
 "PMT" => "666", # Pavement
 "PPL" => "254", # Power Pole with Light added v6
 "PPT" => "255", # Power Pole with Transformer
 "PPU" => "253",
 "PRK" => "682", # Parking Meter
 "PUG" => "684", # Pump - Gas
 "RCK" => "699", # Rock or Boulder
 "RCL" => "450", # Railroad Centerline
 "RDR" => "464", # Railroad Derailer
 "RGG" => "335", # Regulator - Gas
 "RIP" => "605", # Riprap
 "RMP" => "461", # RR Mile Post
 #"RNW" => "376",
 "RPB" => "659", # Ramp - HMA
 "RPC" => "659", # Ramp - Concrete
 "RPN" => "659", # Ramp - Stone
 "RPR" => "659", # Ramp - Brick
 "RPS" => "659", # Ramp - Steel
 "RPT" => "659", # Ramp - Wood
 "ROW" => "213",
 "RRC" => "458", # RR Signal Cabinet
 "RRF" => "463", # RR Point of Frog - 1" point
 "RRG" => "466", # RR Crossing Gate
 "RRH" => "455", # RR Switch Heater
 "RRM" => "461", # RR Mile Post
 "RRP" => "456", # RR Semaphore
 "RRR" => "451", # RR Top of Rail
 "RRS" => "462", # RR Point of Switch
 "RRT" => "467", # RR Tie/Sleeper
 "RRW" => "455", # RR Switch Box
 "RSE" => "933", # Riser - Electricial
 "RSF" => "975", # Riser - Fiber optic
 "RSG" => "941", # Riser - Gas
 "RSM" => "963", # Riser - Storm
 "RSN" => "961", # Riser - Sanitary
 "RSR" => "951", # Riser - Traffic 
 "RSS" => "953", # Riser - Traffic Fiber Optic
 "RST" => "973", # Riser - Telephone
 "RSV" => "923", # Riser - TV
 "RSW" => "981", # Riser - Water
 "RVT" => "606", # Revetment Mat
 "RWC" => "296", # Retaining Wall - Concrete
 "RWL" => "296", # Retaining Wall
 "RWN" => "296", # Retaining Wall - Stone
 "RWM" => "296", # Retaining Wall - Masonry
 "RWR" => "296", # Retaining Wall - Brick
 "RWS" => "296", # Retaining Wall - Steel
 "RWT" => "296", # Retaining Wall - Timber
 "SBE" => "282",
 "SBF" => "283", # Splice Box fiber optic
 "SBR" => "223", # Traffic Signal Controller - changed v6
 "SBT" => "281", # SPLICE BOX TELEPHONE
 "SBV" => "281", # SPLICE BOX TELEVISION
 "SBW" => "281", # Splice Box for Sprinkler System
 "SHA" => "674", # Shoulder - Aggregate
 "SHB" => "674", # Shoulder - Bituminous
 "SHC" => "674", # Shoulder - Concrete
 "SLA" => "297", # Slab - Aggregate/Gravel
 "SLB" => "297", # Slab - HMA/Bit
 "SLC" => "297", # Slab - Concrete
 "SLN" => "297", # Slab - Stone
 "SLR" => "297", # Slab - Brick
 "SNC" => "423", # Sign - Commercial
 "SNE" => "350",
 "SNF" => "350",
 "SNG" => "350",
 "SNN" => "350", # Warning Sign - Sanitary
 "SNL" => "424",
 "SNP" => "350",
 "SNR" => "673", # Sign - Traffic
 "SNT" => "350",
 "SNV" => "350",
 "SNW" => "350", # Warning Sign - Water
# "SPC" => "699", # Special / Misc.
 "SPA" => "103", # Traverse Point
 "SPB" => "207", # Axle
 "SPC" => "207", # Cut Cross
 "SPD" => "207", # Concrete Monument
 "SPE" => "207", # Crimp Pipe
 "SPF" => "103", # Benchmark
 "SPG" => "103", # GPS Monument
 "SPH" => "103", # Control Point
 "SPI" => "207", # Iron Pipe
 "SPJ" => "207", # Nail
 "SPK" => "207", # Nail & Washer/Shiner
 "SPL" => "207", # PK Nail
 "SPM" => "207", # Mag Nail
 "SPN" => "213", # ROW Marker
 "SPO" => "207", # RR Spike
 "SPP" => "207", # Pole Barn Spike
 "SPQ" => "207", # Stone
 "SPR" => "207", # Cotton Picker Spindle
 "SPS" => "103", # Hub
 "SPT" => "207", # Cut Square
 "SPU" => "207", # Rebar 
 "SPV" => "207", # Drill Hole
 "SPW" => "207", # Brass Marker
 "SPX" => "207", # Iron Rod/Pin
 "SPY" => "103", # Traverse Point
 "SPZ" => "207", # Survey Point
 "STR" => "609", # Stairs/Porch
 "SWK" => "291",
 "SWA" => "291", # SIDEWALK - AGG
 "SWB" => "291", # SIDEWALK - BIT/HMA
 "SWC" => "291", # SIDEWALK - CONC
 "SWR" => "291", # SIDEWALK - BRICK
 #"TOB" => "881", # Top of Bank
 "TIL" => "304", # Tile
 "TNG" => "693", # Gas Tank
 "TNP" => "693", # Oil Tank
 "TOE" => "860", # Toe of Slope
 "TOP" => "861", # Top of Slope
 "TRC" => "406",
 "TRD" => "405",
 "TRE" => "280", # Transformer
 "TRF" => "220", # Traffic Signal
 "TRL" => "224", # Traffic Signal Loop Detector
 "THW" => "858",
 "TWR" => "270", # Transmission Tower
 "UND" => "381", # Underdrain
 "VLB" => "342", # Valve Box
 "VLG" => "344", # Gas Valve
 "VLE" => "344",
 "VLN" => "337", # Valve for sanitary force main
 "VLW" => "343", # Water Valve By Hydrant
 "VNG" => "354", # Gas Vent Pipe
 "VNT" => "354",
 "VNN" => "354",
 "WAC" => "294", # Wall - not retaining - Concrete
 "WAF" => "294", # Wall - not retaining - Frame
 "WAL" => "294", # Wall
 "WAN" => "294", # Wall - not retaining - Stone/Rock
 "WAM" => "294", # Wall - not retaining - Masonry
 "WAR" => "294", # Wall - not retaining - Brick
 "WAS" => "294", # Wall - not retaining - Steel
 "WAT" => "294", # Wall - not retaining - Timber
 "WDE" => "410",
 "WEL" => "379", # Well
 "WET" => "379",
 "WTR" => "867",
# IDOT Codes Flow Through without change to code  ##################
 "100" => "100",
 "101" => "101",
 "102" => "102",
 "103" => "103",
 "104" => "104",
 "105" => "105",
 "106" => "106",
 "107" => "107",
 "108" => "108",
 "109" => "109",
 "110" => "110",
 "111" => "111",
 "112" => "112",
 "113" => "113",
 "114" => "114",
 "115" => "115",
 "116" => "116",
 "117" => "117",
 "118" => "118",
 "119" => "119",
 "120" => "120",
 "121" => "121",
 "122" => "122",
 "123" => "123",
 "124" => "124",
 "125" => "125",
 "126" => "126",
 "127" => "127",
 "128" => "128",
 "129" => "129",
 "130" => "130",
 "131" => "131",
 "132" => "132",
 "133" => "133",
 "134" => "134",
 "135" => "135",
 "136" => "136",
 "137" => "137",
 "138" => "138",
 "139" => "139",
 "140" => "140",
 "141" => "141",
 "142" => "142",
 "143" => "143",
 "144" => "144",
 "145" => "145",
 "146" => "146",
 "147" => "147",
 "148" => "148",
 "149" => "149",
 "150" => "150",
 "151" => "151",
 "152" => "152",
 "153" => "153",
 "154" => "154",
 "155" => "155",
 "156" => "156",
 "157" => "157",
 "158" => "158",
 "159" => "159",
 "160" => "160",
 "161" => "161",
 "162" => "162",
 "163" => "163",
 "164" => "164",
 "165" => "165",
 "166" => "166",
 "167" => "167",
 "168" => "168",
 "169" => "169",
 "170" => "170",
 "171" => "171",
 "172" => "172",
 "173" => "173",
 "174" => "174",
 "175" => "175",
 "176" => "176",
 "177" => "177",
 "178" => "178",
 "179" => "179",
 "180" => "180",
 "181" => "181",
 "182" => "182",
 "183" => "183",
 "184" => "184",
 "185" => "185",
 "186" => "186",
 "187" => "187",
 "188" => "188",
 "189" => "189",
 "190" => "190",
 "191" => "191",
 "192" => "192",
 "193" => "193",
 "194" => "194",
 "195" => "195",
 "196" => "196",
 "197" => "197",
 "198" => "198",
 "199" => "199",
 "200" => "200",
 "201" => "201",
 "202" => "202",
 "203" => "203",
 "204" => "204",
 "205" => "205",
 "206" => "206",
 "207" => "207",
 "208" => "208",
 "209" => "209",
 "210" => "210",
 "211" => "211",
 "212" => "212",
 "213" => "213",
 "214" => "214",
 "215" => "215",
 "216" => "216",
 "217" => "217",
 "218" => "218",
 "219" => "219",
 "220" => "220",
 "221" => "221",
 "222" => "222",
 "223" => "223",
 "224" => "224",
 "225" => "225",
 "226" => "226",
 "227" => "227",
 "228" => "228",
 "229" => "229",
 "230" => "230",
 "231" => "231",
 "232" => "232",
 "233" => "233",
 "234" => "234",
 "235" => "235",
 "236" => "236",
 "237" => "237",
 "238" => "238",
 "239" => "239",
 "240" => "240",
 "241" => "241",
 "242" => "242",
 "243" => "243",
 "244" => "244",
 "245" => "245",
 "246" => "246",
 "247" => "247",
 "248" => "248",
 "249" => "249",
 "250" => "250",
 "251" => "251",
 "252" => "252",
 "253" => "253",
 "254" => "254",
 "255" => "255",
 "256" => "256",
 "257" => "257",
 "258" => "258",
 "259" => "259",
 "260" => "260",
 "261" => "261",
 "262" => "262",
 "263" => "263",
 "264" => "264",
 "265" => "265",
 "266" => "266",
 "267" => "267",
 "268" => "268",
 "269" => "269",
 "270" => "270",
 "271" => "271",
 "272" => "272",
 "273" => "273",
 "274" => "274",
 "275" => "275",
 "276" => "276",
 "277" => "277",
 "278" => "278",
 "279" => "279",
 "280" => "280",
 "281" => "281",
 "282" => "282",
 "283" => "283",
 "284" => "284",
 "285" => "285",
 "286" => "286",
 "287" => "287",
 "288" => "288",
 "289" => "289",
 "290" => "290",
 "291" => "291",
 "292" => "292",
 "293" => "293",
 "294" => "294",
 "295" => "295",
 "296" => "296",
 "297" => "297",
 "298" => "298",
 "299" => "299",
 "300" => "300",
 "301" => "301",
 "302" => "302",
 "303" => "303",
 "304" => "304",
 "305" => "305",
 "306" => "306",
 "307" => "307",
 "308" => "308",
 "309" => "309",
 "310" => "310",
 "311" => "311",
 "312" => "312",
 "313" => "313",
 "314" => "314",
 "315" => "315",
 "316" => "316",
 "317" => "317",
 "318" => "318",
 "319" => "319",
 "320" => "320",
 "321" => "321",
 "322" => "322",
 "323" => "323",
 "324" => "324",
 "325" => "325",
 "326" => "326",
 "327" => "327",
 "328" => "328",
 "329" => "329",
 "330" => "330",
 "331" => "331",
 "332" => "332",
 "333" => "333",
 "334" => "334",
 "335" => "335",
 "336" => "336",
 "337" => "337",
 "338" => "338",
 "339" => "339",
 "340" => "340",
 "341" => "341",
 "342" => "342",
 "343" => "343",
 "344" => "344",
 "345" => "345",
 "346" => "346",
 "347" => "347",
 "348" => "348",
 "349" => "349",
 "350" => "350",
 "351" => "351",
 "352" => "352",
 "353" => "353",
 "354" => "354",
 "355" => "355",
 "356" => "356",
 "357" => "357",
 "358" => "358",
 "359" => "359",
 "360" => "360",
 "361" => "361",
 "362" => "362",
 "363" => "363",
 "364" => "364",
 "365" => "365",
 "366" => "366",
 "367" => "367",
 "368" => "368",
 "369" => "369",
 "370" => "370",
 "371" => "371",
 "372" => "372",
 "373" => "373",
 "374" => "374",
 "375" => "375",
 "376" => "376",
 "377" => "377",
 "378" => "378",
 "379" => "379",
 "380" => "380",
 "381" => "381",
 "382" => "382",
 "383" => "383",
 "384" => "384",
 "385" => "385",
 "386" => "386",
 "387" => "387",
 "388" => "388",
 "389" => "389",
 "390" => "390",
 "391" => "391",
 "392" => "392",
 "393" => "393",
 "394" => "394",
 "395" => "395",
 "396" => "396",
 "397" => "397",
 "398" => "398",
 "399" => "399",
 "400" => "400",
 "401" => "401",
 "402" => "402",
 "403" => "403",
 "404" => "404",
 "405" => "405",
 "406" => "406",
 "407" => "407",
 "408" => "408",
 "409" => "409",
 "410" => "410",
 "411" => "411",
 "412" => "412",
 "413" => "413",
 "414" => "414",
 "415" => "415",
 "416" => "416",
 "417" => "417",
 "418" => "418",
 "419" => "419",
 "420" => "420",
 "421" => "421",
 "422" => "422",
 "423" => "423",
 "424" => "424",
 "425" => "425",
 "426" => "426",
 "427" => "427",
 "428" => "428",
 "429" => "429",
 "430" => "430",
 "431" => "431",
 "432" => "432",
 "433" => "433",
 "434" => "434",
 "435" => "435",
 "436" => "436",
 "437" => "437",
 "438" => "438",
 "439" => "439",
 "440" => "440",
 "441" => "441",
 "442" => "442",
 "443" => "443",
 "444" => "444",
 "445" => "445",
 "446" => "446",
 "447" => "447",
 "448" => "448",
 "449" => "449",
 "450" => "450",
 "451" => "451",
 "452" => "452",
 "453" => "453",
 "454" => "454",
 "455" => "455",
 "456" => "456",
 "457" => "457",
 "458" => "458",
 "459" => "459",
 "460" => "460",
 "461" => "461",
 "462" => "462",
 "463" => "463",
 "464" => "464",
 "465" => "465",
 "466" => "466",
 "467" => "467",
 "468" => "468",
 "469" => "469",
 "470" => "470",
 "471" => "471",
 "472" => "472",
 "473" => "473",
 "474" => "474",
 "475" => "475",
 "476" => "476",
 "477" => "477",
 "478" => "478",
 "479" => "479",
 "480" => "480",
 "481" => "481",
 "482" => "482",
 "483" => "483",
 "484" => "484",
 "485" => "485",
 "486" => "486",
 "487" => "487",
 "488" => "488",
 "489" => "489",
 "490" => "490",
 "491" => "491",
 "492" => "492",
 "493" => "493",
 "494" => "494",
 "495" => "495",
 "496" => "496",
 "497" => "497",
 "498" => "498",
 "499" => "499",
 "500" => "500",
 "501" => "501",
 "502" => "502",
 "503" => "503",
 "504" => "504",
 "505" => "505",
 "506" => "506",
 "507" => "507",
 "508" => "508",
 "509" => "509",
 "510" => "510",
 "511" => "511",
 "512" => "512",
 "513" => "513",
 "514" => "514",
 "515" => "515",
 "516" => "516",
 "517" => "517",
 "518" => "518",
 "519" => "519",
 "520" => "520",
 "521" => "521",
 "522" => "522",
 "523" => "523",
 "524" => "524",
 "525" => "525",
 "526" => "526",
 "527" => "527",
 "528" => "528",
 "529" => "529",
 "530" => "530",
 "531" => "531",
 "532" => "532",
 "533" => "533",
 "534" => "534",
 "535" => "535",
 "536" => "536",
 "537" => "537",
 "538" => "538",
 "539" => "539",
 "540" => "540",
 "541" => "541",
 "542" => "542",
 "543" => "543",
 "544" => "544",
 "545" => "545",
 "546" => "546",
 "547" => "547",
 "548" => "548",
 "549" => "549",
 "550" => "550",
 "551" => "551",
 "552" => "552",
 "553" => "553",
 "554" => "554",
 "555" => "555",
 "556" => "556",
 "557" => "557",
 "558" => "558",
 "559" => "559",
 "560" => "560",
 "561" => "561",
 "562" => "562",
 "563" => "563",
 "564" => "564",
 "565" => "565",
 "566" => "566",
 "567" => "567",
 "568" => "568",
 "569" => "569",
 "570" => "570",
 "571" => "571",
 "572" => "572",
 "573" => "573",
 "574" => "574",
 "575" => "575",
 "576" => "576",
 "577" => "577",
 "578" => "578",
 "579" => "579",
 "580" => "580",
 "581" => "581",
 "582" => "582",
 "583" => "583",
 "584" => "584",
 "585" => "585",
 "586" => "586",
 "587" => "587",
 "588" => "588",
 "589" => "589",
 "590" => "590",
 "591" => "591",
 "592" => "592",
 "593" => "593",
 "594" => "594",
 "595" => "595",
 "596" => "596",
 "597" => "597",
 "598" => "598",
 "599" => "599",
 "600" => "600",
 "601" => "601",
 "602" => "602",
 "603" => "603",
 "604" => "604",
 "605" => "605",
 "606" => "606",
 "607" => "607",
 "608" => "608",
 "609" => "609",
 "610" => "610",
 "611" => "611",
 "612" => "612",
 "613" => "613",
 "614" => "614",
 "615" => "615",
 "616" => "616",
 "617" => "617",
 "618" => "618",
 "619" => "619",
 "620" => "620",
 "621" => "621",
 "622" => "622",
 "623" => "623",
 "624" => "624",
 "625" => "625",
 "626" => "626",
 "627" => "627",
 "628" => "628",
 "629" => "629",
 "630" => "630",
 "631" => "631",
 "632" => "632",
 "633" => "633",
 "634" => "634",
 "635" => "635",
 "636" => "636",
 "637" => "637",
 "638" => "638",
 "639" => "639",
 "640" => "640",
 "641" => "641",
 "642" => "642",
 "643" => "643",
 "644" => "644",
 "645" => "645",
 "646" => "646",
 "647" => "647",
 "648" => "648",
 "649" => "649",
 "650" => "650",
 "651" => "651",
 "652" => "652",
 "653" => "653",
 "654" => "654",
 "655" => "655",
 "656" => "656",
 "657" => "657",
 "658" => "658",
 "659" => "659",
 "660" => "660",
 "661" => "661",
 "662" => "662",
 "663" => "663",
 "664" => "664",
 "665" => "665",
 "666" => "666",
 "667" => "667",
 "668" => "668",
 "669" => "669",
 "670" => "670",
 "671" => "671",
 "672" => "672",
 "673" => "673",
 "674" => "674",
 "675" => "675",
 "676" => "676",
 "677" => "677",
 "678" => "678",
 "679" => "679",
 "680" => "680",
 "681" => "681",
 "682" => "682",
 "683" => "683",
 "684" => "684",
 "685" => "685",
 "686" => "686",
 "687" => "687",
 "688" => "688",
 "689" => "689",
 "690" => "690",
 "691" => "691",
 "692" => "692",
 "693" => "693",
 "694" => "694",
 "695" => "695",
 "696" => "696",
 "697" => "697",
 "698" => "698",
 "699" => "699",
 "700" => "700",
 "701" => "701",
 "702" => "702",
 "703" => "703",
 "704" => "704",
 "705" => "705",
 "706" => "706",
 "707" => "707",
 "708" => "708",
 "709" => "709",
 "710" => "710",
 "711" => "711",
 "712" => "712",
 "713" => "713",
 "714" => "714",
 "715" => "715",
 "716" => "716",
 "717" => "717",
 "718" => "718",
 "719" => "719",
 "720" => "720",
 "721" => "721",
 "722" => "722",
 "723" => "723",
 "724" => "724",
 "725" => "725",
 "726" => "726",
 "727" => "727",
 "728" => "728",
 "729" => "729",
 "730" => "730",
 "731" => "731",
 "732" => "732",
 "733" => "733",
 "734" => "734",
 "735" => "735",
 "736" => "736",
 "737" => "737",
 "738" => "738",
 "739" => "739",
 "740" => "740",
 "741" => "741",
 "742" => "742",
 "743" => "743",
 "744" => "744",
 "745" => "745",
 "746" => "746",
 "747" => "747",
 "748" => "748",
 "749" => "749",
 "750" => "750",
 "751" => "751",
 "752" => "752",
 "753" => "753",
 "754" => "754",
 "755" => "755",
 "756" => "756",
 "757" => "757",
 "758" => "758",
 "759" => "759",
 "760" => "760",
 "761" => "761",
 "762" => "762",
 "763" => "763",
 "764" => "764",
 "765" => "765",
 "766" => "766",
 "767" => "767",
 "768" => "768",
 "769" => "769",
 "770" => "770",
 "771" => "771",
 "772" => "772",
 "773" => "773",
 "774" => "774",
 "775" => "775",
 "776" => "776",
 "777" => "777",
 "778" => "778",
 "779" => "779",
 "780" => "780",
 "781" => "781",
 "782" => "782",
 "783" => "783",
 "784" => "784",
 "785" => "785",
 "786" => "786",
 "787" => "787",
 "788" => "788",
 "789" => "789",
 "790" => "790",
 "791" => "791",
 "792" => "792",
 "793" => "793",
 "794" => "794",
 "795" => "795",
 "796" => "796",
 "797" => "797",
 "798" => "798",
 "799" => "799",
 "800" => "800",
 "801" => "801",
 "802" => "802",
 "803" => "803",
 "804" => "804",
 "805" => "805",
 "806" => "806",
 "807" => "807",
 "808" => "808",
 "809" => "809",
 "810" => "810",
 "811" => "811",
 "812" => "812",
 "813" => "813",
 "814" => "814",
 "815" => "815",
 "816" => "816",
 "817" => "817",
 "818" => "818",
 "819" => "819",
 "820" => "820",
 "821" => "821",
 "822" => "822",
 "823" => "823",
 "824" => "824",
 "825" => "825",
 "826" => "826",
 "827" => "827",
 "828" => "828",
 "829" => "829",
 "830" => "830",
 "831" => "831",
 "832" => "832",
 "833" => "833",
 "834" => "834",
 "835" => "835",
 "836" => "836",
 "837" => "837",
 "838" => "838",
 "839" => "839",
 "840" => "840",
 "841" => "841",
 "842" => "842",
 "843" => "843",
 "844" => "844",
 "845" => "845",
 "846" => "846",
 "847" => "847",
 "848" => "848",
 "849" => "849",
 "850" => "850",
 "851" => "851",
 "852" => "852",
 "853" => "853",
 "854" => "854",
 "855" => "855",
 "856" => "856",
 "857" => "857",
 "858" => "858",
 "859" => "859",
 "860" => "860",
 "861" => "861",
 "862" => "862",
 "863" => "863",
 "864" => "864",
 "865" => "865",
 "866" => "866",
 "867" => "867",
 "868" => "868",
 "869" => "869",
 "870" => "870",
 "871" => "871",
 "872" => "872",
 "873" => "873",
 "874" => "874",
 "875" => "875",
 "876" => "876",
 "877" => "877",
 "878" => "878",
 "879" => "879",
 "880" => "880",
 "881" => "881",
 "882" => "882",
 "883" => "883",
 "884" => "884",
 "885" => "885",
 "886" => "886",
 "887" => "887",
 "888" => "888",
 "889" => "889",
 "890" => "890",
 "891" => "891",
 "892" => "892",
 "893" => "893",
 "894" => "894",
 "895" => "895",
 "896" => "896",
 "897" => "897",
 "898" => "898",
 "899" => "899",
 "900" => "900",
 "901" => "901",
 "902" => "902",
 "903" => "903",
 "904" => "904",
 "905" => "905",
 "906" => "906",
 "907" => "907",
 "908" => "908",
 "909" => "909",
 "910" => "910",
 "911" => "911",
 "912" => "912",
 "913" => "913",
 "914" => "914",
 "915" => "915",
 "916" => "916",
 "917" => "917",
 "918" => "918",
 "919" => "919",
 "920" => "920",
 "921" => "921",
 "922" => "922",
 "923" => "923",
 "924" => "924",
 "925" => "925",
 "926" => "926",
 "927" => "927",
 "928" => "928",
 "929" => "929",
 "930" => "930",
 "931" => "931",
 "932" => "932",
 "933" => "933",
 "934" => "934",
 "935" => "935",
 "936" => "936",
 "937" => "937",
 "938" => "938",
 "939" => "939",
 "940" => "940",
 "941" => "941",
 "942" => "942",
 "943" => "943",
 "944" => "944",
 "945" => "945",
 "946" => "946",
 "947" => "947",
 "948" => "948",
 "949" => "949",
 "950" => "950",
 "951" => "951",
 "952" => "952",
 "953" => "953",
 "954" => "954",
 "955" => "955",
 "956" => "956",
 "957" => "957",
 "958" => "958",
 "959" => "959",
 "960" => "960",
 "961" => "961",
 "962" => "962",
 "963" => "963",
 "964" => "964",
 "965" => "965",
 "966" => "966",
 "967" => "967",
 "968" => "968",
 "969" => "969",
 "970" => "970",
 "971" => "971",
 "972" => "972",
 "973" => "973",
 "974" => "974",
 "975" => "975",
 "976" => "976",
 "977" => "977",
 "978" => "978",
 "979" => "979",
 "980" => "980",
 "981" => "981",
 "982" => "982",
 "983" => "983",
 "984" => "984",
 "985" => "985",
 "986" => "986",
 "987" => "987",
 "988" => "988",
 "989" => "989",
 "990" => "990",
 "991" => "991",
 "992" => "992",
 "993" => "993",
 "994" => "994",
 "995" => "995",
 "996" => "996",
 "997" => "997",
 "998" => "998",
 "999" => "999"
);
#########################################################################################################
#####################
# Some Global Vars
$figname="";
$curPtNum="";
$lastPtNum="";
$lastFigname="";
%activeStrings=();
$curIsString=0;
$lastWasString=0;
$comment=""; #lv added
$Icode=""; #lv added (Process01)
$hold = "";
$noLineCounter=1;


# ====================================================================================================
#                                             Start of Main Program
# ====================================================================================================
#                                             Syntax - process ARG1
if ($#ARGV<0)
  {
    print q{
===================================================================================
|                                                                                 |
|                         staoff script                                           |                                                                                 |
|                                                                                 |
|                            Syntax:  process filename                            |
|                                                                                 |
===================================================================================
  };
    exit;
  }
$filename=$ARGV[0];
$filename =~ s/\.[^.]*$//;
open(IN,$ARGV[0]);
open(OUT1,">${filename}_all.cor");
open(OUT2,">${filename}_bridge.cor");
open(OUT3,">${filename}_ptln.cor");
open(OUT4,">${filename}_cell.cor");
# open(OUT5,">${filename}_qc_spots.cor");
# open(OUT6,">${filename}_topo.cor");
# if ($#ARGV>0) {
#  $_nextAutogenPtNum=$ARGV[1];
# }
# else {
#  $_nextAutogenPtNum=100000;
# }
while (<IN>) {
 $curIsString=0;
 @in = split(/,/, substr(uc, 0, -1), 5); #note: the substr forces text to be uppercase; the split creates:
   #$in[0] = point number
   #$in[1] = northing
   #$in[2] = easting
   #$in[3] = elevation
   #$in[4] = full description (3 Letter Code-Line Number-Line Code-Comment)
 my @fsplit = split(/\s+/,$in[4],2); #added lv - this separates the Codes from the Comments
   #using the first whitespace as the separator so:
   #$fsplit[0] = 3 Letter Code-Line Number-Line Code
   #$fsplit[1] = the Comment
 my @ssplit = ($fsplit[0] =~ /(\w+)*(\W*)/); #added lv - this separtes the 3 Letter Code and
   # line number from the line coding symbol
   # \w is alpha or numeric - \W is non alpha or numeric:
   # $ssplit[0] = the 3 Letter Code and Line Number
   # $ssplit[1] = the Line Code
 $tok[0] = $ssplit[1]; #added lv:
   # $tok[0} = the Line Code
 $tok[1] = "$ssplit[0] $fsplit[1]"; #added lv:
   # $tok[1] = the code and the comment, no line code
 my @csplit = ($ssplit[0] =~ /(\w\w\w)(\d*)/); # this is for QAQC
   # $csplit[0] = 3 letter code
   # $csplit[1] = line number
 if (length($fsplit[1])>0) {##############lv
  $fsplit[1]="\;$fsplit[1]"; ########lv - adds the semi-colon before the Comment
 }
 $Icode=$pointCodes{$csplit[0]}; ## if the three letter code matches any of the codes

##############Test Section
#print OUT1 "alksdf;alkdj   $pointCodes{$csplit[0]}\n";
#print OUT5 "\n\n\n\in[0] point number      = $in[0]\n";
#print OUT5 "in[4] full code & comment      = $in[4]\n";
#print OUT5 "fsplit[0] full code no comment = $fsplit[0]\n";
#print OUT5 "fsplit[1] comment              = $fsplit[1]\n";
#print OUT5 "ssplit[0] code and line no.    = $ssplit[0]\n";
#print OUT5 "ssplit[1] line code            = $ssplit[1]\n";
#print OUT5 "tok[0] line code               = $tok[0]\n";
#print OUT5 "tok[1] code, line no., comment = $tok[1]\n";
#print OUT5 "csplit[0] alpha code           = $csplit[0]\n";
#print OUT5 "csplit[1] line number          = $csplit[1]\n";
#print OUT5 "hold                           = $hold\n";
#print OUT5 "c linecode                     = $c\n";
#print OUT5 "Icode idot code, line no.      = $Icode\n\n";
        #####################
        #Material type prefix
        if  (exists ($typePrefix{$csplit[0]})) {
          $prefix = $typePrefix{$csplit[0]};
          $csplit[1] = "$prefix$csplit[1]";
 }
 ########################################
 #NoLine fix
 if  (exists ($noLine{$csplit[0]})) {
          $csplit[1] = $noLineCounter;
          $noLineCounter = $noLineCounter + 1;
 }
 ########################################Begin sorting and printing
 #################################################
 if  (exists ($bridgeCodes{$csplit[0]}))
   {
   if ($c = $idotcommands{$tok[0]})
     {
     print OUT2 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],$c\n";
     print OUT1 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],$c\n";
     }
   else
     {
     print OUT2 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],\n";
     print OUT1 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],\n";
     }
   }
 elsif (exists ($symbolCodes{$Icode}))  # Check against symbolCodes list for cells
   {
   if ($c = $idotcommands{$tok[0]})
     {
     print OUT4 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],$c\n";
     print OUT1 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],$c\n";
     }
   else
     {
     print OUT4 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],\n";
     print OUT1 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],\n";
     }
   }
 elsif (exists ($lineCodes{$Icode}))
   {
   if ($c = $idotcommands{$tok[0]})
     {
     print OUT3 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],$c\n";
     print OUT1 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],$c\n";
     }
   else
     {
     print OUT3 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],\n";
     print OUT1 "$in[0],$in[1],$in[2],$in[3],$Icode$csplit[1]$fsplit[1],\n";
     }
   }





####################### TEST SECTION
#print OUT5 "in[0] point number             = $in[0]\n";
#print OUT5 "in[1] northing                 = $in[1]\n";
#print OUT5 "in[2] easting                  = $in[2]\n";
#print OUT5 "in[3] elevation                = $in[3]\n";
#print OUT5 "in[4] full code & comment      = $in[4]\n";
#print OUT5 "fsplit[0] full code no comment = $fsplit[0]\n";
#print OUT5 "fsplit[1] comment              = $fsplit[1]\n";
#print OUT5 "ssplit[0] code and line no.    = $ssplit[0]\n";
#print OUT5 "ssplit[1] line code            = $ssplit[1]\n";
#print OUT5 "tok[0] line code               = $tok[0]\n";
#print OUT5 "tok[1] code, line no., comment = $tok[1]\n";
#print OUT5 "csplit[0] alpha code           = $csplit[0]\n";
#print OUT5 "csplit[1] line number          = $csplit[1]\n";
#print OUT1 "hold                           = $hold\n";
#print OUT5 "c linecode                     = $c\n";
#print OUT5 "Icode idot code, line no.      = $Icode\n\n\n\n\n";


 #prepare for next loop
 if ($curIsString) {
  $activeStrings{$figname}=1; #make sure the list contains an entry for this string
 }
 $lastWasString=$curIsString;
 $lastFigname=$figname;
 $lastPtNum=$in[0];
 $figname="";
 $comment="";  #### added lv
 $Icode="";
 $prefix="";


 $fsplit[0]="";
 $fsplit[1]="";
 $ssplit[0]="";
 $ssplit[1]="";
 $tok[0]="";
 $tok[1]="";
 $csplit[0]="";
 $csplit[1]="";


}
close(IN);
close(OUT1);
close(OUT2);
close(OUT3);
close(OUT4);
close(OUT5);
close(OUT6);
